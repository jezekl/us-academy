<div class="city" *ngIf="city?.loaded">
  <usacademy-container>
    <br><br><br>
    <button (click)="selectActiveSection(0)" [ui-button]="activeSection === 0 ? 'negative' : 'positive'">
      Kroužky
    </button>
    <button (click)="selectActiveSection(1)" [ui-button]="activeSection === 1 ? 'negative' : 'positive'">
      Workshopy
    </button>
    <button (click)="selectActiveSection(2)" [ui-button]="activeSection === 2 ? 'negative' : 'positive'">
      Příměstské tábory
    </button>
    <br><br><br>
    <ng-container *ngIf="activeSection === 0">
      <div class="table" [@fadeInStagger]="city?.data?.trainings?.length">
        <div class="table__tr">
          <div class="table__th">Město</div>
          <div class="table__th">Období</div>
          <div class="table__th">Den kroužků</div>
          <div class="table__th">Čas</div>
          <div class="table__th">Obsazenost</div>
          <div class="table__th">Cena</div>
          <div class="table__th"></div>
        </div>
        <div class="table__tr" *ngFor="let training of city?.data?.trainings">
          <div class="table__td table__td--city">
            {{ city.data.parent.name }}
          </div>
          <div class="table__td table__td--date">
            {{ training.season }}
          </div>
          <div class="table__td table__td--date">
            {{ training.day }}
          </div>
          <div class="table__td table__td--time">
            {{ training.time }}
          </div>
          <div class="table__td table__td--signed">
            {{ training.paid }}/{{ training.capacity }}
          </div>
          <div class="table__td table__td--price">
            {{ training.price }},-
          </div>
          <div class="table__td table__td--actions">
            <a [routerLink]="['/', city.data.parent.id, training.id]" ui-button="positive">detail</a>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="activeSection === 1">
      <div class="table" [@fadeInStagger]="city?.data?.workshops?.length">
        <div class="table__tr">
          <div class="table__th">Město</div>
          <div class="table__th">Termín</div>
          <div class="table__th">Čas</div>
          <div class="table__th">Obsazenost</div>
          <div class="table__th">Cena</div>
          <div class="table__th"></div>
        </div>
        <div class="table__tr" *ngFor="let workshop of city?.data?.workshops">
          <div class="table__td table__td--city">
            {{ city.data.parent.name }}
          </div>
          <div class="table__td table__td--date">
            {{ workshop.date }}
          </div>
          <div class="table__td table__td--time">
            {{ workshop.time }}
          </div>
          <div class="table__td table__td--signed">
            {{ workshop.paid }}/{{ workshop.capacity }}
          </div>
          <div class="table__td table__td--price">
            {{ workshop.price }},-
          </div>
          <div class="table__td table__td--actions">
            <a [routerLink]="['/', city.data.parent.id, workshop.id]" ui-button="positive">detail</a>
          </div>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="activeSection === 2">
      <div class="table" [@fadeInStagger]="city?.data?.camps?.length">
        <div class="table__tr">
          <div class="table__th">Město</div>
          <div class="table__th">Termín</div>
          <div class="table__th">Obsazenost</div>
          <div class="table__th">Cena</div>
          <div class="table__th"></div>
        </div>
        <div class="table__tr" *ngFor="let camp of city?.data?.camps">
          <div class="table__td table__td--city">
            {{ city.data.parent.name }}
          </div>
          <div class="table__td table__td--date">
            {{ camp.date }}
          </div>
          <div class="table__td table__td--signed">
            {{ camp.paid }}/{{ camp.capacity }}
          </div>
          <div class="table__td table__td--price">
            {{ camp.price }},-
          </div>
          <div class="table__td table__td--actions">
            <a [routerLink]="['/', city.data.parent.id, camp.id]" ui-button="positive">detail</a>
          </div>
        </div>
      </div>
    </ng-container>
  </usacademy-container>
</div>

<div class="city" *ngIf="city?.loading">
  <usacademy-container>
    <ui-greybox [height]="'82px'"></ui-greybox>
    <ui-greybox [height]="'108px'"></ui-greybox>
    <ui-greybox [height]="'108px'"></ui-greybox>
    <ui-greybox [height]="'108px'"></ui-greybox>
    <ui-greybox [height]="'108px'"></ui-greybox>
  </usacademy-container>
</div>
